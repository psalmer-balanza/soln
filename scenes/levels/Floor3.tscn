[gd_scene load_steps=46 format=4 uid="uid://ctj1htmlnn4d5"]

[ext_resource type="Script" path="res://scripts/character_scripts/eye.gd" id="1_6wk5b"]
[ext_resource type="Script" path="res://scripts/levels/floor_3.gd" id="1_c0nld"]
[ext_resource type="Texture2D" uid="uid://dusw5lqjs5u6a" path="res://assets/floor_3/Final boss.png" id="1_ct4fq"]
[ext_resource type="Texture2D" uid="uid://46kc7umrw01u" path="res://assets/floor_3/eye.png" id="1_xs72a"]
[ext_resource type="PackedScene" uid="uid://50xwge6vcpc3" path="res://scenes/characters_scenes/floor1_characters/main_character.tscn" id="3_qpyaw"]
[ext_resource type="TileSet" uid="uid://cv6gtkstr2nfo" path="res://tilemaps/floor_2/room.tres" id="4_jvjtl"]
[ext_resource type="Texture2D" uid="uid://tr25p61v3ik6" path="res://assets/floor_1/floor1_revamp/All in one ground.png" id="5_5f7m6"]
[ext_resource type="Texture2D" uid="uid://blu14dykmlvud" path="res://assets/floor_3/towerport.png" id="5_5nawp"]
[ext_resource type="Texture2D" uid="uid://c1i0ubr1y8d54" path="res://assets/floor_2/pipes_side.png" id="5_vrid3"]
[ext_resource type="Texture2D" uid="uid://cfad566d0o20d" path="res://assets/floor_2/waterpipe_entrance.png" id="6_ux8tk"]
[ext_resource type="Texture2D" uid="uid://b58aj7c5ga2ov" path="res://assets/floor_2/falling_water.png" id="7_0eoh0"]
[ext_resource type="Script" path="res://scripts/cutscene_scripts/final_boss_trigger.gd" id="7_gvrh4"]
[ext_resource type="Script" path="res://scripts/character_scripts/camera_2d.gd" id="7_hyg0m"]
[ext_resource type="Resource" uid="uid://xd3vfwupcgjr" path="res://dialogue/floor_3/final_boss.dialogue" id="8_x3w2c"]
[ext_resource type="Texture2D" uid="uid://c7uyle1n0iooq" path="res://assets/floor_3/floor 3 bridge.png" id="9_bxmsn"]
[ext_resource type="Texture2D" uid="uid://dkhtkxcmb6ihw" path="res://assets/floor_1/laboratory/laboratory.png" id="9_ufmla"]
[ext_resource type="AudioStream" uid="uid://bglnsbw5ufx1" path="res://audio/sound_effects/floor3/Earfquake SFX.wav" id="17_2lngj"]
[ext_resource type="Script" path="res://scripts/cutscene_scripts/ending_trigger.gd" id="17_2ok4b"]
[ext_resource type="Resource" uid="uid://bc6vhvvbc8frv" path="res://dialogue/floor_3/final_question.dialogue" id="18_ga3qi"]
[ext_resource type="AudioStream" uid="uid://ffo3nmf4wq78" path="res://audio/background_music/final_boss/Christian Music Instrumental.ogg" id="20_464ba"]

[sub_resource type="Gradient" id="Gradient_5owrf"]
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_48nsj"]
gradient = SubResource("Gradient_5owrf")
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.9, 0.2)
metadata/_snap_enabled = true

[sub_resource type="Gradient" id="Gradient_4y36t"]
offsets = PackedFloat32Array(0.415584, 1)
colors = PackedColorArray(0.0509804, 0.0509804, 0.133333, 1, 0.0509804, 0.0509804, 0.133333, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_18ptw"]
gradient = SubResource("Gradient_4y36t")
fill_from = Vector2(0.522936, 1)
fill_to = Vector2(0.5, 0)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_5wu00"]
texture = ExtResource("5_vrid3")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_tk7ns"]
texture = ExtResource("6_ux8tk")
texture_region_size = Vector2i(32, 32)
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
0:0/size_in_atlas = Vector2i(3, 3)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_qehrn"]
texture = ExtResource("7_0eoh0")
texture_region_size = Vector2i(32, 32)
0:0/size_in_atlas = Vector2i(3, 3)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_bf62v"]
texture = ExtResource("9_ufmla")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
7:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
10:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
7:5/0 = 0
9:5/0 = 0
10:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
9:6/0 = 0
10:6/0 = 0
0:7/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
4:7/0 = 0
5:7/0 = 0
6:7/0 = 0
7:7/0 = 0
8:7/0 = 0
0:8/0 = 0
1:8/0 = 0
2:8/0 = 0
5:8/0 = 0
6:8/0 = 0
7:8/0 = 0
9:8/0 = 0
10:8/0 = 0
11:8/0 = 0
0:9/0 = 0
1:9/0 = 0
2:9/0 = 0
4:9/0 = 0
5:9/0 = 0
6:9/0 = 0
7:9/0 = 0
8:9/0 = 0
9:9/0 = 0
11:9/0 = 0
12:9/0 = 0
0:10/0 = 0
1:10/0 = 0
2:10/0 = 0
3:10/0 = 0
4:10/0 = 0
5:10/0 = 0
8:10/0 = 0
12:10/0 = 0
0:11/0 = 0
1:11/0 = 0
2:11/0 = 0
3:11/0 = 0
5:11/0 = 0
6:11/0 = 0
8:11/0 = 0
9:11/0 = 0
11:11/0 = 0
12:11/0 = 0
0:12/0 = 0
1:12/0 = 0
2:12/0 = 0
3:12/0 = 0
5:12/0 = 0
6:12/0 = 0
9:12/0 = 0
11:12/0 = 0
0:13/0 = 0
1:13/0 = 0
2:13/0 = 0
3:13/0 = 0
4:13/0 = 0
5:13/0 = 0
6:13/0 = 0
7:13/0 = 0
9:13/0 = 0
10:13/0 = 0
11:13/0 = 0
0:14/0 = 0
1:14/0 = 0
2:14/0 = 0
3:14/0 = 0

[sub_resource type="TileSet" id="TileSet_ueycn"]
tile_size = Vector2i(32, 32)
sources/0 = SubResource("TileSetAtlasSource_5wu00")
sources/1 = SubResource("TileSetAtlasSource_tk7ns")
sources/2 = SubResource("TileSetAtlasSource_qehrn")
sources/3 = SubResource("TileSetAtlasSource_bf62v")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_qo1ji"]
texture = ExtResource("7_0eoh0")
texture_region_size = Vector2i(32, 32)
0:0/size_in_atlas = Vector2i(3, 1)
0:0/animation_columns = 4
0:0/animation_speed = 8.0
0:0/animation_frame_0/duration = 1.0
0:0/animation_frame_1/duration = 1.0
0:0/animation_frame_2/duration = 1.0
0:0/animation_frame_3/duration = 1.0
0:0/0 = 0
0:1/size_in_atlas = Vector2i(3, 1)
0:1/animation_columns = 4
0:1/animation_speed = 8.0
0:1/animation_frame_0/duration = 1.0
0:1/animation_frame_1/duration = 1.0
0:1/animation_frame_2/duration = 1.0
0:1/animation_frame_3/duration = 1.0
0:1/0 = 0
0:2/size_in_atlas = Vector2i(3, 1)
0:2/animation_columns = 4
0:2/animation_speed = 8.0
0:2/animation_frame_0/duration = 1.0
0:2/animation_frame_1/duration = 1.0
0:2/animation_frame_2/duration = 1.0
0:2/animation_frame_3/duration = 1.0
0:2/0 = 0

[sub_resource type="TileSet" id="TileSet_hqmw7"]
tile_size = Vector2i(32, 32)
sources/1 = SubResource("TileSetAtlasSource_qo1ji")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_wao1u"]
texture = ExtResource("5_5f7m6")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
15:0/0 = 0
16:0/0 = 0
17:0/0 = 0
18:0/0 = 0
19:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
12:1/0 = 0
13:1/0 = 0
14:1/0 = 0
17:1/0 = 0
18:1/0 = 0
19:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
13:2/0 = 0
14:2/0 = 0
17:2/0 = 0
18:2/0 = 0
19:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
14:3/0 = 0
15:3/0 = 0
16:3/0 = 0
17:3/0 = 0
18:3/0 = 0
19:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
4:4/0 = 0
10:4/0 = 0
11:4/0 = 0
12:4/0 = 0
14:4/0 = 0
16:4/0 = 0
18:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
5:5/0 = 0
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
9:5/0 = 0
10:5/0 = 0
11:5/0 = 0
12:5/0 = 0
13:5/0 = 0
15:5/0 = 0
18:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
4:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
9:6/0 = 0
10:6/0 = 0
11:6/0 = 0
12:6/0 = 0
14:6/0 = 0
18:6/0 = 0

[sub_resource type="TileSet" id="TileSet_k4slb"]
tile_size = Vector2i(64, 64)
sources/1 = SubResource("TileSetAtlasSource_wao1u")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_m278c"]
texture = ExtResource("9_bxmsn")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
4:3/0 = 0
4:4/0 = 0
5:3/0 = 0
5:4/0 = 0
5:5/0 = 0
5:2/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_jjmby"]
texture = ExtResource("9_ufmla")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
7:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
10:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
7:5/0 = 0
9:5/0 = 0
10:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
9:6/0 = 0
10:6/0 = 0
0:7/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
4:7/0 = 0
5:7/0 = 0
6:7/0 = 0
7:7/0 = 0
8:7/0 = 0
0:8/0 = 0
1:8/0 = 0
2:8/0 = 0
5:8/0 = 0
6:8/0 = 0
7:8/0 = 0
9:8/0 = 0
10:8/0 = 0
11:8/0 = 0
0:9/0 = 0
1:9/0 = 0
2:9/0 = 0
4:9/0 = 0
5:9/0 = 0
6:9/0 = 0
7:9/0 = 0
8:9/0 = 0
9:9/0 = 0
11:9/0 = 0
12:9/0 = 0
0:10/0 = 0
1:10/0 = 0
2:10/0 = 0
3:10/0 = 0
4:10/0 = 0
5:10/0 = 0
8:10/0 = 0
12:10/0 = 0
0:11/0 = 0
1:11/0 = 0
2:11/0 = 0
3:11/0 = 0
5:11/0 = 0
6:11/0 = 0
8:11/0 = 0
9:11/0 = 0
11:11/0 = 0
12:11/0 = 0
0:12/0 = 0
1:12/0 = 0
2:12/0 = 0
3:12/0 = 0
5:12/0 = 0
6:12/0 = 0
9:12/0 = 0
11:12/0 = 0
0:13/0 = 0
1:13/0 = 0
2:13/0 = 0
3:13/0 = 0
4:13/0 = 0
5:13/0 = 0
6:13/0 = 0
7:13/0 = 0
9:13/0 = 0
10:13/0 = 0
11:13/0 = 0
0:14/0 = 0
1:14/0 = 0
2:14/0 = 0
3:14/0 = 0

[sub_resource type="TileSet" id="TileSet_bewdi"]
tile_size = Vector2i(32, 32)
sources/2 = SubResource("TileSetAtlasSource_m278c")
sources/3 = SubResource("TileSetAtlasSource_jjmby")

[sub_resource type="CircleShape2D" id="CircleShape2D_iqy6s"]
radius = 31.0161

[sub_resource type="Animation" id="Animation_nfry4"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../FinalBoss:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 543)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../FinalBoss/PointLight2D:energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../FinalBoss/eye:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Camera2D:zoom")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(5, 5)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("GroundShakingSFX:playing")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_bcqmt"]
resource_name = "rise"
length = 7.0
step = 1.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../FinalBoss:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(2, 6.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 543), Vector2(0, 88)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../FinalBoss/PointLight2D:energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(6.5, 7),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../FinalBoss/eye:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(6.5, 7),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Camera2D:zoom")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(5, 5), Vector2(0.8, 0.8)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("GroundShakingSFX:playing")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 7),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_q1mgf"]
_data = {
"RESET": SubResource("Animation_nfry4"),
"rise": SubResource("Animation_bcqmt")
}

[sub_resource type="Animation" id="Animation_1rd26"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../MainCharacter:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-214, 310)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../dark:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../dark:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_5jvet"]
resource_name = "float"
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../MainCharacter:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(832, 148), Vector2(832, 144)]
}

[sub_resource type="Animation" id="Animation_5hnqp"]
resource_name = "float_down"
length = 5.0
step = 1.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../MainCharacter:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(832, 148), Vector2(832, 192)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../dark:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../dark:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_xvthb"]
resource_name = "float_up"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../MainCharacter:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(832, 192), Vector2(832, 148)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3kpk6"]
_data = {
"RESET": SubResource("Animation_1rd26"),
"float": SubResource("Animation_5jvet"),
"float_down": SubResource("Animation_5hnqp"),
"float_up": SubResource("Animation_xvthb")
}

[node name="Floor3" type="Node2D"]
script = ExtResource("1_c0nld")

[node name="ColorRect2" type="ColorRect" parent="."]
self_modulate = Color(0.251216, 0.309573, 0.528398, 1)
offset_left = -1853.0
offset_top = -1070.0
offset_right = 4357.0
offset_bottom = 3942.0
color = Color(0.207843, 0.168627, 0.25098, 1)

[node name="FinalBoss" type="Node2D" parent="."]
modulate = Color(0.4, 0.411765, 0.627451, 1)
position = Vector2(0, 543)

[node name="ColorRect" type="ColorRect" parent="FinalBoss"]
offset_left = -119.0
offset_top = -164.0
offset_right = 119.0
offset_bottom = 6.0
color = Color(0.313726, 0.552941, 0.462745, 1)

[node name="eye" type="Node2D" parent="FinalBoss"]
position = Vector2(1, -82)
script = ExtResource("1_6wk5b")

[node name="Sprite2D" type="Sprite2D" parent="FinalBoss/eye"]
texture = ExtResource("1_xs72a")

[node name="Sprite2D" type="Sprite2D" parent="FinalBoss"]
texture = ExtResource("1_ct4fq")

[node name="PointLight2D" type="PointLight2D" parent="FinalBoss"]
position = Vector2(4, -83)
scale = Vector2(5.89062, 4.625)
color = Color(0.270588, 1, 1, 1)
energy = 0.0
texture = SubResource("GradientTexture2D_48nsj")

[node name="TextureRect2" type="TextureRect" parent="FinalBoss"]
offset_left = -147.0
offset_top = 49.0
offset_right = 148.0
offset_bottom = 153.0
texture = SubResource("GradientTexture2D_18ptw")

[node name="Tower" type="Node2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="Tower"]
position = Vector2(833, 81)
texture = ExtResource("5_5nawp")

[node name="ColorRect3" type="ColorRect" parent="."]
self_modulate = Color(0.251216, 0.309573, 0.528398, 1)
offset_left = -254.0
offset_top = 409.0
offset_right = 279.0
offset_bottom = 848.0
color = Color(0.207843, 0.168627, 0.25098, 1)

[node name="below_rooms" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD6/wwAAAAAAAUAAAD7/wwAAAAAAAUAAAD8/wwAAAAAAAUAAAD9/wwAAAAAAAUAAAD+/wwAAAAAAAUAAAD//wwAAAAAAAUAAAAAAAwAAAAAAAUAAAABAAwAAAAAAAUAAAACAAwAAAAAAAUAAAADAAwAAAAAAAUAAAAEAAwAAAAAAAUAAAAFAAwAAAAAAAUAAAD6/w0AAAAAAAUAAAD7/w0AAAAAAAUAAAD8/w0AAAAAAAUAAAD9/w0AAAAAAAUAAAD+/w0AAAAAAAUAAAD//w0AAAAAAAUAAAAAAA0AAAAAAAUAAAABAA0AAAAAAAUAAAACAA0AAAAAAAUAAAADAA0AAAAAAAUAAAAEAA0AAAAAAAUAAAAFAA0AAAAAAAUAAAD6/w4AAAAAAAYAAAD7/w4AAAAAAAYAAAD8/w4AAAAAAAYAAAD9/w4AAAAAAAYAAAD+/w4AAAAAAAYAAAD//w4AAAAAAAYAAAAAAA4AAAAAAAYAAAABAA4AAAAAAAYAAAACAA4AAAAAAAYAAAADAA4AAAAAAAYAAAAEAA4AAAAAAAYAAAAFAA4AAAAAAAYAAAAWAAwAAAAAAAUAAAAXAAwAAAAAAAUAAAAYAAwAAAAAAAUAAAAZAAwAAAAAAAUAAAAaAAwAAAAAAAUAAAAbAAwAAAAAAAUAAAAcAAwAAAAAAAUAAAAdAAwAAAAAAAUAAAAWAA0AAAAAAAUAAAAXAA0AAAAAAAUAAAAYAA0AAAAAAAUAAAAZAA0AAAAAAAUAAAAaAA0AAAAAAAUAAAAbAA0AAAAAAAUAAAAcAA0AAAAAAAUAAAAdAA0AAAAAAAUAAAAWAA4AAAAAAAYAAAAXAA4AAAAAAAYAAAAYAA4AAAAAAAYAAAAZAA4AAAAAAAYAAAAaAA4AAAAAAAYAAAAbAA4AAAAAAAYAAAAcAA4AAAAAAAYAAAAdAA4AAAAAAAYAAAAUAAwAAAAAAAUAAAAVAAwAAAAAAAUAAAAUAA0AAAAAAAUAAAAVAA0AAAAAAAUAAAAeAAwAAAAAAAUAAAAfAAwAAAAAAAUAAAAeAA0AAAAAAAUAAAAfAA0AAAAAAAUAAAAfAA4AAAAAAAYAAAAeAA4AAAAAAAYAAAAVAA4AAAAAAAYAAAAUAA4AAAAAAAYAAAA=")
tile_set = ExtResource("4_jvjtl")

[node name="below_ground_decorations" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD8/w0AAQAAAAAAAAACAA4AAQAAAAAAAAAWAAYAAwAAAAsAAAAWAAcAAwAAAAsAAAAWAAgAAwAAAAsAAAAWAAkAAwAAAAsAAAAXAAkAAwAAAAsAAAAYAAoAAwAAAAsAAAAYAAsAAwAAAAsAAAAZAAsAAwAAAAsAAAAaAAsAAwAAAAsAAAAbAAsAAwAAAAsAAAAbAAoAAwAAAAsAAAAaAAoAAwAAAAsAAAAZAAoAAwAAAAsAAAAdAAkAAwAAAAsAAAAcAAkAAwAAAAsAAAAbAAkAAwAAAAsAAAAaAAkAAwAAAAsAAAAZAAkAAwAAAAsAAAAYAAkAAwAAAAsAAAAXAAYAAwAAAAsAAAAYAAYAAwAAAAsAAAAZAAYAAwAAAAsAAAAaAAYAAwAAAAsAAAAbAAYAAwAAAAsAAAAcAAYAAwAAAAsAAAAdAAYAAwAAAAsAAAAdAAcAAwAAAAsAAAAdAAgAAwAAAAsAAAAcAAgAAwAAAAsAAAAbAAgAAwAAAAsAAAAaAAgAAwAAAAsAAAAZAAgAAwAAAAsAAAAYAAgAAwAAAAsAAAAYAAcAAwAAAAsAAAAXAAcAAwAAAAsAAAAXAAgAAwAAAAsAAAAZAAcAAwAAAAsAAAAaAAcAAwAAAAsAAAAbAAcAAwAAAAsAAAAcAAcAAwAAAAsAAAAVAA0AAQAAAAAAAAAZAA4AAQAAAAAAAAAeAA0AAQAAAAAAAAA=")
tile_set = SubResource("TileSet_ueycn")

[node name="water_falling" type="TileMapLayer" parent="."]
self_modulate = Color(1, 1, 1, 0.65098)
tile_map_data = PackedByteArray("AAD8/wwAAQAAAAAAAAD8/w0AAQAAAAEAAAD8/w4AAQAAAAIAAAACAA0AAQAAAAAAAAACAA4AAQAAAAEAAAAVAAwAAQAAAAAAAAAZAA0AAQAAAAAAAAAeAAwAAQAAAAAAAAAVAA0AAQAAAAEAAAAVAA4AAQAAAAEAAAAZAA4AAQAAAAEAAAAeAA0AAQAAAAEAAAAeAA4AAQAAAAEAAAAVAA8AAQAAAAEAAAAZAA8AAQAAAAEAAAAeAA8AAQAAAAEAAAAVABAAAQAAAAIAAAAZABAAAQAAAAIAAAAeABAAAQAAAAIAAAA=")
tile_set = SubResource("TileSet_hqmw7")

[node name="TextureRect" type="TextureRect" parent="."]
offset_left = -203.0
offset_top = 375.0
offset_right = 199.0
offset_bottom = 514.0
texture = SubResource("GradientTexture2D_18ptw")

[node name="TextureRect" type="TextureRect" parent="TextureRect"]
layout_mode = 0
offset_left = 835.0
offset_top = -8.0
offset_right = 1237.0
offset_bottom = 164.0
texture = SubResource("GradientTexture2D_18ptw")

[node name="TextureRect2" type="TextureRect" parent="TextureRect"]
layout_mode = 0
offset_left = 1239.0
offset_top = -300.0
offset_right = 1641.0
offset_bottom = -128.0
rotation = 3.14159
texture = SubResource("GradientTexture2D_18ptw")

[node name="Ground" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD9/wMAAQALAAUAAAD9/wQAAQALAAUAAAD9/wUAAQALAAUAAAD+/wMAAQALAAUAAAD+/wQAAQALAAUAAAD+/wUAAQALAAUAAAD//wMAAQALAAUAAAD//wQAAQALAAUAAAD//wUAAQALAAUAAAAAAAMAAQALAAUAAAAAAAQAAQALAAUAAAAAAAUAAQALAAUAAAABAAMAAQALAAUAAAABAAQAAQALAAUAAAABAAUAAQALAAUAAAACAAMAAQALAAUAAAACAAQAAQALAAUAAAACAAUAAQALAAUAAAD9/wIAAQAOAAYAAAD+/wIAAQAOAAYAAAD//wIAAQAOAAYAAAAAAAIAAQAOAAYAAAABAAIAAQAOAAYAAAACAAIAAQAOAAYAAAADAAMAAQANAAUAAAADAAQAAQANAAUAAAADAAUAAQANAAUAAAD8/wMAAQAPAAUAAAD8/wQAAQAPAAUAAAD8/wUAAQAPAAUAAAD9/wYAAQAOAAQAAAD+/wYAAQAOAAQAAAD//wYAAQAOAAQAAAAAAAYAAQAOAAQAAAABAAYAAQAOAAQAAAACAAYAAQAOAAQAAAADAAYAAQAJAAYAAAD8/wYAAQAIAAYAAAD8/wIAAQAIAAUAAAADAAIAAQAJAAUAAAAKAAQAAQALAAUAAAAKAAMAAQALAAUAAAAKAAUAAQALAAUAAAALAAUAAQALAAUAAAAOAAUAAQALAAUAAAAPAAUAAQALAAUAAAAPAAQAAQALAAUAAAAPAAMAAQALAAUAAAAQAAMAAQANAAUAAAAQAAQAAQANAAUAAAAQAAUAAQANAAUAAAAJAAMAAQAPAAUAAAAJAAQAAQAPAAUAAAAJAAUAAQAPAAUAAAAKAAIAAQAOAAYAAAAPAAIAAQAOAAYAAAAJAAIAAQAIAAUAAAAQAAIAAQAJAAUAAAAMAAQAAQAJAAUAAAANAAQAAQAIAAUAAAAOAAQAAQAKAAQAAAALAAQAAQAMAAQAAAAMAAUAAQAMAAQAAAANAAUAAQAKAAQAAAAOAAMAAQAPAAUAAAALAAMAAQANAAUAAAAOAAIAAQAIAAUAAAALAAIAAQAJAAUAAAAJAAYAAQAIAAYAAAAQAAYAAQAJAAYAAAAKAAYAAQAOAAQAAAALAAYAAQAOAAQAAAAMAAYAAQAOAAQAAAANAAYAAQAOAAQAAAAOAAYAAQAOAAQAAAAPAAYAAQAOAAQAAAA=")
tile_set = SubResource("TileSet_k4slb")

[node name="AboveGround3" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAFAAgAAgAEAAIAAAAFAAkAAgAEAAEAAAAFAAoAAgAEAAIAAAAUAAgAAgAEAAIAABAUAAkAAgAEAAEAABAUAAoAAgAEAAIAABAFAAYAAgAEAAAAAAAFAAcAAgAEAAEAAAAUAAYAAgAEAAAAABAUAAcAAgAEAAEAABD6/wYAAgAEAAAAABD6/wcAAgAEAAEAABD6/wgAAgAEAAIAABA=")
tile_set = SubResource("TileSet_bewdi")
rendering_quadrant_size = 32

[node name="AboveGround" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAFAAgAAgAAAAAAAAAFAAkAAgAAAAEAAAAGAAgAAgABAAAAAAAGAAkAAgABAAEAAAAHAAgAAgACAAAAAAAHAAkAAgACAAEAAAAIAAgAAgABAAAAAAAIAAkAAgABAAEAAAAJAAgAAgACAAAAAAAJAAkAAgACAAEAAAAKAAgAAgABAAAAAAAKAAkAAgABAAEAAAALAAgAAgACAAAAAAALAAkAAgACAAEAAAAMAAgAAgABAAAAAAAMAAkAAgABAAEAAAANAAgAAgACAAAAAAANAAkAAgACAAEAAAAOAAgAAgABAAAAAAAOAAkAAgABAAEAAAAPAAgAAgACAAAAAAAPAAkAAgACAAEAAAAQAAgAAgABAAAAAAAQAAkAAgABAAEAAAARAAgAAgACAAAAAAARAAkAAgACAAEAAAASAAgAAgABAAAAAAASAAkAAgABAAEAAAATAAgAAgACAAAAAAATAAkAAgACAAEAAAAFAAoAAgAAAAIAAAAUAAgAAgADAAAAAAAUAAkAAgADAAEAAAAUAAoAAgADAAIAAAAGAAoAAgABAAIAAAAHAAoAAgACAAIAAAAIAAoAAgABAAIAAAAJAAoAAgACAAIAAAAKAAoAAgABAAIAAAALAAoAAgACAAIAAAAMAAoAAgABAAIAAAANAAoAAgACAAIAAAAOAAoAAgABAAIAAAAPAAoAAgACAAIAAAAQAAoAAgABAAIAAAARAAoAAgACAAIAAAASAAoAAgABAAIAAAATAAoAAgACAAIAAAACAAcAAwACAAoAAAADAAcAAwAAAAoAAAACAAgAAwAAAAoAAAD7/wcAAwAAAAsAAAD8/wcAAwAAAAoAAAD7/wgAAwAAAAoAAAD//woAAwAAAAsAAAAAAAoAAwAAAAsAAAD5/wgAAgACAAAAAAD5/wkAAgACAAEAAAD6/wgAAgADAAAAAAD6/wkAAgADAAEAAAD4/wgAAgABAAAAAAD4/wkAAgABAAEAAAD6/woAAgADAAEAAAD5/woAAgABAAEAAAD4/woAAgABAAEAAAD3/woAAgABAAEAAAD2/woAAgABAAEAAAD2/wsAAgABAAIAAAD3/wsAAgABAAIAAAD4/wsAAgABAAIAAAD5/wsAAgABAAIAAAA=")
tile_set = SubResource("TileSet_bewdi")
rendering_quadrant_size = 32

[node name="MainCharacter" parent="." instance=ExtResource("3_qpyaw")]
position = Vector2(-214, 310)

[node name="AboveGround2" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAFAAgAAgAEAAAAAAAFAAkAAgAEAAEAAAAFAAoAAgAEAAIAAAAUAAgAAgAEAAAAABAUAAkAAgAEAAEAABAUAAoAAgAEAAIAABD4/wYAAgAFAAIAAAD4/wcAAgAFAAMAAAD4/wgAAgAFAAQAAAD4/wkAAgAFAAUAAAD3/wcAAgAEAAMAAAD3/wgAAgAEAAQAAAD6/wkAAgAEAAAAABD6/woAAgAEAAEAABD6/wsAAgAEAAIAABA=")
tile_set = SubResource("TileSet_bewdi")
rendering_quadrant_size = 32

[node name="dark" type="CanvasModulate" parent="."]
color = Color(0.323096, 0.268242, 0.383669, 1)

[node name="LastBossCutscene" type="Node2D" parent="."]

[node name="Trigger" type="Node2D" parent="LastBossCutscene"]
position = Vector2(0, 11)

[node name="AutoActionable" type="Area2D" parent="LastBossCutscene/Trigger"]
position = Vector2(193, 276)
script = ExtResource("7_gvrh4")
dialogue_resource = ExtResource("8_x3w2c")
quest_name = "final_boss"

[node name="CollisionShape2D" type="CollisionShape2D" parent="LastBossCutscene/Trigger/AutoActionable"]
shape = SubResource("CircleShape2D_iqy6s")

[node name="Timer" type="Timer" parent="LastBossCutscene"]
wait_time = 6.5
one_shot = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="LastBossCutscene"]
libraries = {
"": SubResource("AnimationLibrary_q1mgf")
}

[node name="Camera2D" type="Camera2D" parent="LastBossCutscene"]
position = Vector2(0, 204)
zoom = Vector2(5, 5)
script = ExtResource("7_hyg0m")

[node name="GroundShakingSFX" type="AudioStreamPlayer" parent="LastBossCutscene"]
stream = ExtResource("17_2lngj")
volume_db = -19.676

[node name="FinalCutscene" type="Node2D" parent="."]

[node name="AnimationPlayer" type="AnimationPlayer" parent="FinalCutscene"]
libraries = {
"": SubResource("AnimationLibrary_3kpk6")
}

[node name="Camera2D" type="Camera2D" parent="FinalCutscene"]
position = Vector2(839, 148)
zoom = Vector2(2, 2)

[node name="Timer" type="Timer" parent="FinalCutscene"]
wait_time = 3.0
one_shot = true

[node name="FinalCutsceneTrigger" type="Node2D" parent="FinalCutscene"]
position = Vector2(0, 11)

[node name="AutoActionable" type="Area2D" parent="FinalCutscene/FinalCutsceneTrigger"]
position = Vector2(832, 172)
script = ExtResource("17_2ok4b")
dialogue_resource = ExtResource("18_ga3qi")
quest_name = "ending"

[node name="CollisionShape2D" type="CollisionShape2D" parent="FinalCutscene/FinalCutsceneTrigger/AutoActionable"]
shape = SubResource("CircleShape2D_iqy6s")

[node name="Collision" type="RigidBody2D" parent="."]
gravity_scale = 0.0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collision"]
polygon = PackedVector2Array(-320, 320, -256, 320, -256, 257, -197, 257, -196, 190, -193, 187, 192, 187, 197, 194, 197, 257, 641, 257, 641, 245, 210, 246, 209, 175, -209, 174, -209, 250, -269, 248, -269, 308, -320, 310)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Collision"]
polygon = PackedVector2Array(-320, 320, -320, 351, -196, 351, -195, 386, 191, 386, 197, 382, 197, 319, 643, 319, 642, 330, 207, 328, 208, 401, -205, 401, -206, 360, -321, 363, -329, 361, -328, 321)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Collision"]
polygon = PackedVector2Array(178, 218, 178, 257, 190, 257, 190, 218)

[node name="CollisionPolygon2D9" type="CollisionPolygon2D" parent="Collision"]
position = Vector2(464, 0)
polygon = PackedVector2Array(178, 218, 178, 257, 190, 257, 190, 218)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="Collision"]
position = Vector2(0, 64)
polygon = PackedVector2Array(178, 240, 178, 259, 190, 259, 190, 240)

[node name="CollisionPolygon2D10" type="CollisionPolygon2D" parent="Collision"]
position = Vector2(464, 64)
polygon = PackedVector2Array(178, 240, 178, 259, 190, 259, 190, 240)

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="Collision"]
position = Vector2(-368, 96)
polygon = PackedVector2Array(178, 238, 178, 259, 190, 259, 190, 238)

[node name="CollisionPolygon2D6" type="CollisionPolygon2D" parent="Collision"]
position = Vector2(-368, -1)
polygon = PackedVector2Array(178, 219, 178, 259, 190, 259, 190, 219)

[node name="CollisionPolygon2D7" type="CollisionPolygon2D" parent="Collision"]
position = Vector2(-424, 32)
polygon = PackedVector2Array(178, 225, 178, 259, 190, 259, 190, 225)

[node name="CollisionPolygon2D8" type="CollisionPolygon2D" parent="Collision"]
polygon = PackedVector2Array(637, 257, 638, 194, 641, 189, 705, 189, 709, 192, 710, 192, 710, 162, 780, 162, 780, 84, 886, 84, 886, 163, 956, 163, 956, 192, 1025, 192, 1026, 385, 1021, 387, 642, 387, 637, 383, 636, 329, 629, 330, 630, 393, 660, 397, 1037, 396, 1035, 188, 1029, 178, 963, 181, 968, 149, 895, 153, 894, 75, 773, 75, 773, 156, 705, 153, 702, 179, 633, 180, 627, 184, 627, 257)

[node name="FinaleBGM" type="AudioStreamPlayer" parent="."]
stream = ExtResource("20_464ba")
volume_db = -15.928
autoplay = true

[connection signal="area_shape_entered" from="LastBossCutscene/Trigger/AutoActionable" to="LastBossCutscene/Trigger/AutoActionable" method="_on_area_shape_entered"]
[connection signal="timeout" from="LastBossCutscene/Timer" to="LastBossCutscene/Trigger/AutoActionable" method="_on_timer_timeout"]
[connection signal="animation_finished" from="FinalCutscene/AnimationPlayer" to="FinalCutscene/FinalCutsceneTrigger/AutoActionable" method="_on_animation_player_animation_finished"]
[connection signal="timeout" from="FinalCutscene/Timer" to="FinalCutscene/FinalCutsceneTrigger/AutoActionable" method="_on_timer_timeout"]
[connection signal="area_shape_entered" from="FinalCutscene/FinalCutsceneTrigger/AutoActionable" to="FinalCutscene/FinalCutsceneTrigger/AutoActionable" method="_on_area_shape_entered"]
